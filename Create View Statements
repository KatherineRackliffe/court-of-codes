CREATE VIEW welcomePageView AS
SELECT Users.UserID, Users.Username
FROM Users;

CREATE VIEW homePageView AS
SELECT Book.ISBN, Book.BookTitle, Book.AuthorFName, Book.AuthorLName, AVG(UserReview.NumericalReview) AS AverageReview
FROM book
JOIN UserReview ON Book.ISBN = UserReview.ISBN
GROUP BY Book.ISBN, Book.BookTitle, Book.AuthorFName, Book.AuthorLName;

CREATE VIEW bookView AS
SELECT book.isbn, book.booktitle, book.authorfname, book.authorlname, book.datepublished, book.pagecount, AVG(UserReview.NumericalReview) AS AverageReview, Users.UserID, Users.Username
FROM Book
JOIN UserReview ON Book.ISBN = UserReview.ISBN
JOIN Users ON UserReview.UserID = Users.UserID
GROUP BY book.isbn, book.booktitle, book.authorfname, book.authorlname, book.datepublished, book.pagecount, Users.UserID, Users.Username;

CREATE VIEW userShelfView AS
SELECT Users.UserID, Users.Username, UserList.ListName, UserList.ListID
FROM Users
JOIN UserList ON Users.UserID = UserList.UserID;

CREATE VIEW userListView AS
SELECT 
    u.UserID,
    u.Username,
    ul.ListName,
    ul.ListID,
    b.ISBN,
    b.BookTitle,
    b.AuthorFName,
    b.AuthorLName,
    b.DatePublished,
    b.PageCount
FROM 
    Users u
JOIN 
    UserList ul ON u.UserID = ul.UserID
JOIN 
    BookInList bil ON ul.ListID = bil.ListID
JOIN 
    Book b ON bil.ISBN = b.ISBN;



