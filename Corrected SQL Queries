CREATE TABLE users
(
  UserID SERIAL NOT NULL,
  EmailAddress VARCHAR NOT NULL,
  PasswordHash VARCHAR NOT NULL,
  Username VARCHAR NOT NULL,
  Salt VARCHAR NOT NULL,
  PRIMARY KEY (UserID)
);
CREATE TABLE UserList
(
  ListID SERIAL NOT NULL,
  ListName VARCHAR NOT NULL,
  UserID INT NOT NULL,
  PRIMARY KEY (ListID),
  FOREIGN KEY (UserID) REFERENCES users(UserID)
);
CREATE TABLE Book
(
  ISBN INT NOT NULL,
  BookTitle VARCHAR NOT NULL,
  AuthorFName VARCHAR NOT NULL,
  AuthorLName VARCHAR NOT NULL,
  DatePublished DATE NOT NULL,
  PageCount INT NOT NULL,
  PRIMARY KEY (ISBN)
);
CREATE TABLE BookInList
(
  ListID INT NOT NULL,
  ISBN VARCHAR NOT NULL,
  PRIMARY KEY (ListID, ISBN),
  FOREIGN KEY (ListID) REFERENCES UserList(ListID),
  FOREIGN KEY (ISBN) REFERENCES Book(ISBN),
  UNIQUE (ListID, ISBN)
);
CREATE TABLE UserTag
(
  TagName VARCHAR NOT NULL,
  UserID INT NOT NULL,
  ISBN VARCHAR NOT NULL,
  FOREIGN KEY (UserID) REFERENCES users(UserID),
  FOREIGN KEY (ISBN) REFERENCES Book(ISBN),
  UNIQUE (TagName),
  UNIQUE (TagName, ISBN, UserID)
);
CREATE TABLE UserReview
(
  NumericalReview INT NOT NULL,
  UserID INT NOT NULL,
  ISBN INT NOT NULL,
  PRIMARY KEY (UserID,CREATE TABLE UserReview
(
  NumericalReview INT NOT NULL,
  UserID INT NOT NULL,
  ISBN VARCHAR NOT NULL,
  PRIMARY KEY (UserID, ISBN),
  FOREIGN KEY (UserID) REFERENCES users(UserID),
  FOREIGN KEY (ISBN) REFERENCES Book(ISBN),
  UNIQUE (UserID, ISBN)
);  ISBN),
  FOREIGN KEY (UserID) REFERENCES users(UserID),
  FOREIGN KEY (ISBN) REFERENCES Book(ISBN),
  UNIQUE (UserID, ISBN)
); 
